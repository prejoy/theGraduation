//fatfs test part
  uint8_t res;
  uint32_t total,free;
  //不挂载 w25q,以免破坏字库文件 f_mount(fs[1],"1:",1);
  FTL_Init();	//这个可以不用，在挂载的时候fatfs又调用了一次FTL_init
  exfuns_init();	//为FATFS申请内存
  res=f_mount(fs[2],"2:",1);	//0:SD卡  1：W25QXX Flash 2：Nand Flash
  if(res==0X0D)
  {
//	LCD_ShowString(30,150,200,16,16,"NAND Disk Formatting...");
	printf("NAND Disk Formatting...\r\n");
	res=f_mkfs("2:",1,4096);
	if(res==0)
	{
		f_setlabel((const TCHAR *)"2:NANDDISK");
//		LCD_ShowString(30,150,200,16,16,"NAND Disk Format Finish");
		printf("NAND Disk Format Finish\r\n");
	}else //LCD_ShowString(30,150,200,16,16,"NAND Disk Format Error ");
	  printf("NAND Disk Format Error \r\n");
//	delay_ms(1000);
  }
//  LCD_Fill(30,150,240,150+16,WHITE);
  while(exf_getfree("2:",&total,&free))
  {
//	LCD_ShowString(30,150,200,16,16,"SD Card Fatfs Error!");
	printf("SD Card Fatfs Error!\r\n");
	delay_ms(200);
//	LCD_Fill(30,150,240,150+16,WHITE);
//	delay_ms(200);
  }
//  POINT_COLOR=BLUE;
//  LCD_ShowString(30,150,200,16,16,"FATFS OK!");
//  LCD_ShowString(30,170,200,16,16,"Flash Total Size:     MB");
//  LCD_ShowString(30,190,200,16,16,"Flash Free  Size:     MB");
//  LCD_ShowNum(30+8*14,170,total>>10,5,16);
//  LCD_ShowNum(30+8*14,190,free>>10,5,16);

=========================================================================================
//fatfs test part
  uint8_t res;
  uint32_t total,free;
  exfuns_init();	//为FATFS申请内存
  res=f_mount(fs[2],"2:",1);	//0:SD卡  1：W25QXX Flash 2：Nand Flash
  if(res==0X0D)
  {
	printf("NAND Disk Formatting...\r\n");
	res=f_mkfs("2:",1,4096);
	if(res==0)
	{
		f_setlabel((const TCHAR *)"2:NANDDISK");
		printf("NAND Disk Format Finish\r\n");
	}else  printf("NAND Disk Format Error \r\n");
  }
  while(exf_getfree("2:",&total,&free))
  {
	printf("Nand Flash Fatfs Error!\r\n");
	delay_ms(200);
  }
  printf("FATFS OK!\r\n");
  printf("Flash Total Size:  %d MB\r\n",total>>10);
  printf("Flash Free  Size:  %d MB\r\n",free>>10);
  
===========================================================================================
